<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>温度チャート</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>     
  <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase-firestore.js"></script>
</head>
<body>
  <canvas id="tempchart"></canvas>
  <div class="ct-chart"></div>
  <script>
    var ctx = document.getElementById("tempchart");


    var db = firebase.firestore()
    var initialData=[];
@@ -28,9 +28,9 @@
      type: 'scatter',
      data: {
        datasets:[{
          label:'温度',
          data:initialData,
          fill:false
            label:'温度',
            data:initialData,
            fill:false
        }]
      },
      options: {
@@ -50,13 +50,13 @@
      array.sort((a,b)=>{
        return Date.parse(a)-Date.parse(b)
      }).forEach(function(doc) {
        array.push(doc)
        array.push(doc);
        const data = {x:doc.id,y:doc.data().temp};
        chart.data.datasets[0].data.push(data);
      });
      chart.update();
    }, err => {
    	console.log(err)
    	console.log(err);
    });